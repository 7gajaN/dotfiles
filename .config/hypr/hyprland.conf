# ===============================
#   Autostart Wallpaper & Bar
# ===============================
exec-once = swww-daemon&
exec-once = sleep 1 && swww img $(find ~/.config/pics/wallpaper.png -type f | shuf -n 1)
exec = waybar

decoration {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more
    active_opacity = 1.0          # Fully opaque when focused
    inactive_opacity = 0.85     # 70% opacity when unfocused
    rounding = 10

    blur {
        enabled = false
        size = 7
        passes = 3
    }

    shadow {
        enabled = no
        range = 4
        render_power = 3
        color = rgba(26, 26, 26, 238)
    }
}

animations {
    enabled = yes

    # Some default animations, see https://wiki.hyprland.org/Configuring/Animations/ for more

    bezier = myBezier, 0.05, 0.9, 0.1, 1.05

    animation = windows, 1, 7, myBezier
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = borderangle, 1, 8, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, default
}

dwindle {
    # See https://wiki.hyprland.org/Configuring/Dwindle-Layout/ for more
    pseudotile = yes # master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
    preserve_split = yes # you probably want this
}

master {
    # See https://wiki.hyprland.org/Configuring/Master-Layout/ for more
  new_status = master
}

misc {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more
    force_default_wallpaper = 0 # Set to 0 or 1 to disable the anime mascot wallpapers
}

# Example per-device config
# See https://wiki.hyprland.org/Configuring/Keywords/#per-device-input-configs for more
device {
    name = epic-mouse-v1
    sensitivity = -0.5
}

# Example windowrule v1
# windowrule = float, ^(alacritty)$
# Example windowrule v2
# windowrulev2 = float,class:^(alacritty)$,title:^(alacritty)$
# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more
windowrulev2 = suppressevent maximize, class:.* # You'll probably like this.
windowrulev2 = opacity 0.8 0.9,class:^(kitty)$

# ===============================
#   Mod Key
# ===============================
$mod = ALT

# ===============================
#   Gaps & Borders
# ===============================
general {
  gaps_in = 5 
  gaps_out = 5 
  border_size = 2
  col.active_border = rgba(B22222ff) rgba(3B4252ff) 45deg
  col.inactive_border = rgba(3B4252ff) rgba(D8DEE9ff) 45deg
  layout = dwindle
}
decoration {
  rounding = 0
  # blur = false
  # drop_shadow = false
  active_opacity = 1.0
  inactive_opacity = 1.0
  fullscreen_opacity = 1.0
  # background color
  # col.shadow = rgba(2E3440ff)
}

# ===============================
#   Keybindings
# ===============================
# Launch Terminal
bind = $mod,RETURN,exec,kitty
# Launch Browser
bind = $mod SHIFT,RETURN,exec,firefox
# Launch Program Launcher
# bind = $mod D,exec,rofi --show drun
# Launch File Manager (ranger in kitty)
bind = $mod SHIFT,V,exec,kitty -e ranger

# Fullscreen/Float/Kill
bind = $mod,F,fullscreen
bind = $mod SHIFT,F,togglefloating
bind = $mod SHIFT,Q,killactive

# Restart Hyprland
bind = $mod SHIFT,R,exec,hyprctl reload

# Exit session (Hyprland doesn't use nagbar, so log out)
bind = $mod SHIFT,E,exit

# Window focus (vim-like)
bind = $mod,H,movefocus,l
bind = $mod,J,movefocus,d
bind = $mod,K,movefocus,u
bind = $mod,L,movefocus,r
# bind = $mod,A,focusparent

# Move window
bind = $mod SHIFT,H,swapwindow,l
bind = $mod SHIFT,J,swapwindow,d
bind = $mod SHIFT,K,swapwindow,u
bind = $mod SHIFT,L,swapwindow,r

# Toggle split orientation (dwindle layout only)
bind = $mod,V,splitratio,-0.1
bind = $mod,B,splitratio,0.1

# Resize window (resize mode isn't exactly the same, but these work)
bind = $mod,R,submap,resize

# submap=resize {
#     bind = H,resizeactive,-10 0
#     bind = J,resizeactive,0 10
#     bind = K,resizeactive,0 -10
#     bind = L,resizeactive,10 0
#     bind = RETURN,submap,reset
#     bind = ESCAPE,submap,reset
#     bind = $mod,R,submap,reset
# }

# ===============================
#   Workspaces
# ===============================
# Switch to workspace
bind = $mod,1,workspace,1
bind = $mod,2,workspace,2
bind = $mod,3,workspace,3
bind = $mod,4,workspace,4
bind = $mod,5,workspace,5
bind = $mod,6,workspace,6
bind = $mod,7,workspace,7
bind = $mod,8,workspace,8
bind = $mod,9,workspace,9
bind = $mod,0,workspace,10

# Move window to workspace
bind = $mod SHIFT,1,movetoworkspace,1
bind = $mod SHIFT,2,movetoworkspace,2
bind = $mod SHIFT,3,movetoworkspace,3
bind = $mod SHIFT,4,movetoworkspace,4
bind = $mod SHIFT,5,movetoworkspace,5
bind = $mod SHIFT,6,movetoworkspace,6
bind = $mod SHIFT,7,movetoworkspace,7
bind = $mod SHIFT,8,movetoworkspace,8
bind = $mod SHIFT,9,movetoworkspace,9
bind = $mod SHIFT,0,movetoworkspace,10

# ===============================
#   Floating Modifier
# ===============================
# misc {
#   # Use $mod + mouse to move/resize floating windows
#   mouse_move_modifier = $mod
#   mouse_resize_modifier = $mod
# }

# ===============================
#   Monitor Setup
# ===============================
monitor = DP-0,1920x1080@239.76,0x0,1

# ===============================
#   Other Settings
# ===============================
input {
  kb_layout = us
}

# ===============================
#   Notes
# ===============================
# - Picom is not needed, Hyprland handles compositing.
# - Polybar is X11 only. Use Waybar for status bar on Wayland.
# - Colors/styles for Waybar are set in ~/.config/waybar/style.css.
# - i3status is replaced with Waybar modules.
# - Gaps, borders, and workspace handling mapped as close as possible.
